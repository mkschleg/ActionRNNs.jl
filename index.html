<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ActionRNNs.jl · ActionRNNs</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><script src="../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="library/">ActionRNNs</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="library/">General Documentation</a></li><li><span class="tocitem">Experiment</span><ul><li><a class="tocitem" href="experiments/ringworld/">RingWorld</a></li><li><a class="tocitem" href="experiments/directional_tmaze/">Directional TMaze</a></li><li><a class="tocitem" href="experiments/tmaze/">TMaze</a></li><li><a class="tocitem" href="experiments/masked_gw/">Masked Grid World</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>ActionRNNs.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ActionRNNs.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mkschleg/ActionRNN.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="ActionRNNs.jl"><a class="docs-heading-anchor" href="#ActionRNNs.jl">ActionRNNs.jl</a><a id="ActionRNNs.jl-1"></a><a class="docs-heading-anchor-permalink" href="#ActionRNNs.jl" title="Permalink"></a></h1><p>Documentation for ActionRNNs.jl. See the right for more details on all the different aspects of the project.</p><ul><li>General Documentation: All the library code necessary for building deep recurrent Q agents.</li><li>Experiments: A non-exhaustive list of experiments, and some tips on running these experiments.</li></ul><h2 id="Setup"><a class="docs-heading-anchor" href="#Setup">Setup</a><a id="Setup-1"></a><a class="docs-heading-anchor-permalink" href="#Setup" title="Permalink"></a></h2><p>Clone repository locally, install Julia v1.7.x. In the ActionRNN folder.</p><p>Start the julia repl with <code>julia</code></p><pre><code class="language-julia hljs">julia&gt; ]add Revise, Plots
julia&gt; ]activate .
julia&gt; ]instantiate</code></pre><h2 id="To-run-the-example-experiment"><a class="docs-heading-anchor" href="#To-run-the-example-experiment">To run the example experiment</a><a id="To-run-the-example-experiment-1"></a><a class="docs-heading-anchor-permalink" href="#To-run-the-example-experiment" title="Permalink"></a></h2><pre><code class="language-julia hljs">julia&gt; using Revise; includet(&quot;experiment/RingWorldERExperiment.jl&quot;)
julia&gt; ret = RingWorldERExperiment.working_experiment()</code></pre><p>This should run a Ring World experiment with the action RNN. This return a dictionary containing predictions and errors. You should easily be able to analyze the error and see relatively good performance here.</p><p>To analyze the data:</p><pre><code class="language-julia hljs">julia&gt; using Statistics
julia&gt; rmse = sqrt.(mean(ret[&quot;err&quot;].^2; dims=2))
julia&gt; mean(rmse)   # You should get 0.006968971...</code></pre><p>To plot:</p><pre><code class="language-julia hljs">julia&gt; using Plots
julia&gt; gr()
julia&gt; plot(rmse) # this will plot all the data points, and will be noisy
julia&gt; plot(mean(reshape(rmse, 1000, 300); dims=1)&#39;) #this will plot a windowed average of points</code></pre><h2 id="Consistency-Tests"><a class="docs-heading-anchor" href="#Consistency-Tests">Consistency Tests</a><a id="Consistency-Tests-1"></a><a class="docs-heading-anchor-permalink" href="#Consistency-Tests" title="Permalink"></a></h2><h3 id="Adding-Consistency-Tests"><a class="docs-heading-anchor" href="#Adding-Consistency-Tests">Adding Consistency Tests</a><a id="Adding-Consistency-Tests-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-Consistency-Tests" title="Permalink"></a></h3><p>Adding a consistency test requires you know which experiment you are targeting, what cell, and the various arguments you want. For example. There is some magic macros in the ActionRNNsTests to make this simpler. Bellow is the easiest way to find the test for an experiment with an example in ringworld_er.  This workflow is still WIP, but this should get you all you need to add new cells to the files in <code>tests/consistency</code>.</p><pre><code class="language-julia hljs">push!(LOAD_PATH, &quot;../ActionRNNs.jl/test/&quot;)
using ReTest
import ActionRNNsTests: ActionRNNsTests, Consistency.@run_experiment
begin
    ret = @run_experiment RingWorldERExperiment &quot;FacMARNN&quot; Consistency.RINGWORLD_ER_BASE_CONFIG factors=3
    sum(ret[&quot;err&quot;])
end</code></pre><h3 id="Running-Consistency-Tests"><a class="docs-heading-anchor" href="#Running-Consistency-Tests">Running Consistency Tests</a><a id="Running-Consistency-Tests-1"></a><a class="docs-heading-anchor-permalink" href="#Running-Consistency-Tests" title="Permalink"></a></h3><p>We use ReTest to run all our tests. This allows for testing certain experiments or cells across all experiments.</p><pre><code class="language-julia hljs">push!(LOAD_PATH, &quot;../ActionRNNs.jl/test/&quot;)
using ReTest; import ActionRNNsTests
retest() # Run all tests
retest(&quot;AARNN&quot;) # Run all AARNN tests
retest(&quot;Ringworld&quot;) # Run all Ring World experiments
retest(&quot;Fac&quot;) # run all factored tests (including FacMA* and FacTucMA*)</code></pre><h2 id="Documentation"><a class="docs-heading-anchor" href="#Documentation">Documentation</a><a id="Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation" title="Permalink"></a></h2><p>We are using <a href="https://juliadocs.github.io/Documenter.jl/stable/">Documenter.jl</a>. Please see the documentation for documenter to figure out how it works. These docs are very much WIP, but for now we are putting all the docs in library.md raw and the index.md will have a bit more details to walk ppl through the different ideas in the repo.</p><p>To add docs all you need to do is add a documentation section above a function or struct and then add this to the appropriate docs section.</p><p>To build the documentation go to the <code>ActionRNNs/docs</code> directory and run:</p><pre><code class="language-shell hljs">$ julia --project make.jl</code></pre><p>I&#39;m still figuring out how to best host the docs.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.11 on <span class="colophon-date" title="Thursday 15 December 2022 13:11">Thursday 15 December 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
